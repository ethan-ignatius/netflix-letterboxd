const a={OVERLAY_ENABLED:"overlayEnabled",TMDB_API_KEY:"tmdbApiKey",TMDB_CACHE:"tmdbCache",TMDB_FEATURE_CACHE:"tmdbFeatureCache",MATCH_PROFILE:"matchProfile",LETTERBOXD_INDEX:"lb_index_v1",LETTERBOXD_STATS:"lb_stats_v1",LAST_IMPORT_AT:"lastImportAt"},T=(...e)=>{},c=e=>e?e.toLowerCase().replace(/[^a-z0-9]+/g," ").trim():"",i=(e,t)=>{const r=c(e);return t?`${r} (${t})`:r},_=(e,t)=>{const r=c(e);return t?`${r}|${t}`:r},l=e=>{const t=e.split("|");if(t.length===2){const r=Number(t[1]);return{title:t[0],year:Number.isNaN(r)?void 0:r}}return{title:e}},A=async()=>chrome.storage.local.get([a.OVERLAY_ENABLED,a.TMDB_API_KEY,a.TMDB_CACHE,a.TMDB_FEATURE_CACHE,a.MATCH_PROFILE,a.LETTERBOXD_INDEX,a.LETTERBOXD_STATS,a.LAST_IMPORT_AT]),d=async()=>{const t=(await chrome.storage.local.get([a.LETTERBOXD_INDEX]))[a.LETTERBOXD_INDEX];if(!t)return null;if("ratingsByKey"in t&&"watchlistKeys"in t)return t;const r=t,n={},o={};return Object.entries(r).forEach(([E,s])=>{s.r!==void 0&&(n[E]=s.r),s.w===1&&(o[E]=!0)}),{ratingsByKey:n,watchlistKeys:o,updatedAt:Date.now()}},D=async e=>{await chrome.storage.local.set({[a.LETTERBOXD_INDEX]:e})};export{a as S,_ as a,i as b,A as c,d as g,T as l,c as n,l as p,D as s};
//# sourceMappingURL=storage-Bn6SSwi1.js.map

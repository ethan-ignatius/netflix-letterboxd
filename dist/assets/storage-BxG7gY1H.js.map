{"version":3,"file":"storage-BxG7gY1H.js","sources":["../../src/shared/storage.ts"],"sourcesContent":["import { log, warn } from \"./log\";\nimport type { LetterboxdExport } from \"./types\";\n\nexport interface StorageState {\n  letterboxdExport?: LetterboxdExport;\n  lastImportAt?: string;\n}\n\nexport const getStorage = async (): Promise<StorageState> => {\n  log(\"Loading storage state\");\n  return chrome.storage.local.get([\"letterboxdExport\", \"lastImportAt\"]) as Promise<StorageState>;\n};\n\nexport const setStorage = async (state: StorageState): Promise<void> => {\n  log(\"Saving storage state\", state);\n  await chrome.storage.local.set(state);\n};\n\nexport const clearStorage = async (): Promise<void> => {\n  warn(\"Clearing storage state\");\n  await chrome.storage.local.clear();\n};\n"],"names":["getStorage","clearStorage"],"mappings":"AAQO,MAAMA,EAAa,SAEjB,OAAO,QAAQ,MAAM,IAAI,CAAC,mBAAoB,cAAc,CAAC,EAQzDC,EAAe,SAA2B,CAErD,MAAM,OAAO,QAAQ,MAAM,MAAA,CAC7B"}
{"version":3,"file":"normalize-nDA3_Ddb.js","sources":["../../src/shared/constants.ts","../../src/shared/logger.ts","../../src/shared/normalize.ts"],"sourcesContent":["export const DEBUG = import.meta.env.DEV;\n\nexport const STORAGE_KEYS = {\n  OVERLAY_ENABLED: \"overlayEnabled\",\n  TMDB_API_KEY: \"tmdbApiKey\",\n  TMDB_CACHE: \"tmdbCache\",\n  TMDB_FEATURE_CACHE: \"tmdbFeatureCache\",\n  MATCH_PROFILE: \"matchProfile\",\n  LETTERBOXD_INDEX: \"lb_index_v1\",\n  LETTERBOXD_STATS: \"lb_stats_v1\",\n  LAST_IMPORT_AT: \"lastImportAt\"\n} as const;\n\nexport type StorageKey = (typeof STORAGE_KEYS)[keyof typeof STORAGE_KEYS];\n","import { DEBUG } from \"./constants\";\n\nexport { DEBUG };\n\nexport const log = (...args: unknown[]) => {\n  if (!DEBUG) return;\n  console.log(\"[Netflix+Letterboxd]\", ...args);\n};\n\nexport const warn = (...args: unknown[]) => {\n  if (!DEBUG) return;\n  console.warn(\"[Netflix+Letterboxd]\", ...args);\n};\n\nexport const error = (...args: unknown[]) => {\n  if (!DEBUG) return;\n  console.error(\"[Netflix+Letterboxd]\", ...args);\n};\n","export const normalizeTitle = (title?: string): string => {\n  if (!title) return \"\";\n  return title.toLowerCase().replace(/[^a-z0-9]+/g, \" \").trim();\n};\n\nexport const buildTmdbCacheKey = (title?: string, year?: number): string => {\n  const normalized = normalizeTitle(title);\n  return year ? `${normalized} (${year})` : normalized;\n};\n\nexport const buildLetterboxdKey = (title?: string, year?: number): string => {\n  const normalized = normalizeTitle(title);\n  return year ? `${normalized}|${year}` : normalized;\n};\n\nexport const parseLetterboxdKey = (key: string): { title: string; year?: number } => {\n  const parts = key.split(\"|\");\n  if (parts.length === 2) {\n    const year = Number(parts[1]);\n    return { title: parts[0], year: Number.isNaN(year) ? undefined : year };\n  }\n  return { title: key };\n};\n"],"names":["STORAGE_KEYS","log","args","normalizeTitle","title","buildTmdbCacheKey","year","normalized","buildLetterboxdKey","parseLetterboxdKey","key","parts"],"mappings":"AAEO,MAAMA,EAAe,CAC1B,gBAAiB,iBACjB,aAAc,aACd,WAAY,YACZ,mBAAoB,mBACpB,cAAe,eACf,iBAAkB,cAClB,iBAAkB,cAClB,eAAgB,cAClB,ECPaC,EAAM,IAAIC,IAAoB,CAG3C,ECPaC,EAAkBC,GACxBA,EACEA,EAAM,cAAc,QAAQ,cAAe,GAAG,EAAE,KAAA,EADpC,GAIRC,EAAoB,CAACD,EAAgBE,IAA0B,CAC1E,MAAMC,EAAaJ,EAAeC,CAAK,EACvC,OAAOE,EAAO,GAAGC,CAAU,KAAKD,CAAI,IAAMC,CAC5C,EAEaC,EAAqB,CAACJ,EAAgBE,IAA0B,CAC3E,MAAMC,EAAaJ,EAAeC,CAAK,EACvC,OAAOE,EAAO,GAAGC,CAAU,IAAID,CAAI,GAAKC,CAC1C,EAEaE,EAAsBC,GAAkD,CACnF,MAAMC,EAAQD,EAAI,MAAM,GAAG,EAC3B,GAAIC,EAAM,SAAW,EAAG,CACtB,MAAML,EAAO,OAAOK,EAAM,CAAC,CAAC,EAC5B,MAAO,CAAE,MAAOA,EAAM,CAAC,EAAG,KAAM,OAAO,MAAML,CAAI,EAAI,OAAYA,CAAA,CACnE,CACA,MAAO,CAAE,MAAOI,CAAA,CAClB"}